!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.createPoster=e():t.createPoster=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";var i=n(2),r=n.n(i)()((function(t){return t[1]}));r.push([t.i,".playback-container{\r\n  min-height: calc(100vh - 70px);\r\n  max-height: calc(100vh - 70px);\r\n  background-color: rgb(85, 85, 85);\r\n}\r\n.playback-container .date-select{\r\n  width:212px;\r\n  background-color: rgb(51, 51, 51);\r\n}\r\n.playback-container .ui-datepicker-header{\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  padding:5px;\r\n  \r\n  color:white;\r\n}\r\n.playback-container table td {\r\n  width:28px;\r\n  height:28px;\r\n}\r\n.playback-container table td .item{\r\n  display: inline-block;\r\n  width: 24px;\r\n  height: 24px;\r\n  line-height: 24px;\r\n  background-color: rgb(0, 0, 0);\r\n  color:white;\r\n  font-size:12px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n.container-content{\r\n  display: flex;\r\n  height: calc(80vh - 49px) ;\r\n  min-height: 390px;\r\n  box-sizing: border-box;\r\n  padding:20px\r\n}\r\n.container-content .date-select{\r\n  width:260px;\r\n  background-color: rgb(34, 34, 34);\r\n  border-radius: 10px;\r\n  padding: 5px;\r\n  box-sizing: border-box;\r\n}\r\n.ui-datepicker-body{\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.playback-container .player-box{\r\n  width:100%;\r\n  background-color: rgb(34, 34, 34);\r\n  margin-left: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n}\r\n.playback-container .playback-canvas{\r\n  height: 100%;\r\n}\r\n.playback-fullScreen-canvas{\r\n  width: 100% !important;\r\n  height:auto !important;\r\n}\r\n.playback-container .canvas-container{\r\n  height: calc(100% - 52px);\r\n  text-align: center;\r\n}\r\n\r\n.time-slider-container{\r\n  /* height: calc(20vh - 21px) ; */\r\n  min-height: 125px;\r\n  transition: 1.5s all;\r\n  position: fixed;\r\n  bottom: 0;\r\n}\r\n.ui-datepicker-body .date-selected{\r\n  background-color: rgb(3, 191, 22) !important;\r\n}\r\n.ui-datepicker-body .item{\r\n  position: relative;\r\n  border-radius: 2px;\r\n}\r\n.ui-datepicker-body .sign-date{\r\n  position: absolute;\r\n  right:0;\r\n}\r\n.ui-datepicker-body th {\r\n  color: #fff;\r\n  font-weight: normal;\r\n}\r\n.opacity-3{\r\n  opacity: 0.3;\r\n}\r\n.jump-month-btn{\r\n  cursor: pointer;\r\n}\r\n\r\n#timeSlider{\r\n  position: relative;\r\n  width: 100%;\r\n  max-width: 100%;\r\n  box-sizing: border-box;\r\n  padding: 40px 20px;\r\n  background-color: rgba(0, 0, 0, 1);\r\n  overflow: hidden;\r\n  user-select: none;\r\n}\r\n\r\n.ts-container {\r\n  position: relative;\r\n  display: flex;\r\n  pointer-events: none;\r\n\r\n}\r\n\r\n.ts-axis {\r\n  background-color: rgba(255, 255, 255, .1);\r\n  height: 20px;\r\n  pointer-events: none;\r\n  z-index: 99;\r\n  color: rgba(255, 255, 255, 0.596078431372549);\r\n  font-size: 14px;\r\n}\r\n\r\n.ts-axis-60 {\r\n  flex: 1;\r\n  border-right: 1px solid rgba(0, 0, 0, 1);\r\n  min-width: 48px;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n\r\n}\r\n\r\n.ts-timeChunk {\r\n  height: 20px;\r\n  /* display: none; */\r\n  position: absolute;\r\n  z-index: 99\r\n}\r\n\r\n.ts-axis-long {\r\n  height: 20px;\r\n}\r\n\r\n.ts-axis-short {\r\n  height: 10px;\r\n}\r\n\r\n.ts-axis-last {\r\n  border-right: none;\r\n}\r\n\r\n.ts-axis-time {\r\n  position: absolute;\r\n  top: -25px;\r\n  left: -20px;\r\n}\r\n\r\n.ts-axis-time-last {\r\n  position: absolute;\r\n  top: -120%;\r\n  left: 50%;\r\n}\r\n\r\n.ts-move {\r\n  cursor: move;\r\n}\r\n\r\n.ts-line {\r\n  height: 100px;\r\n  border-left: 1px solid rgba(255, 255, 0, 1);\r\n  box-sizing: border-box;\r\n  color: white;\r\n  font-size: 12px;\r\n  position: absolute;\r\n  top: 20px;\r\n  z-index: 999;\r\n  pointer-events: none;\r\n  /* position: relative; */\r\n}\r\n.ts-assist-line{\r\n  height: 100px;\r\n  border-left: 1px solid rgba(255, 255, 0, 0.5);\r\n  box-sizing: border-box;\r\n  color: white;\r\n  font-size: 12px;\r\n  position: absolute;\r\n  top: 20px;\r\n  z-index: 999;\r\n  pointer-events: none;\r\n  display: none;\r\n}\r\n.ts-line-present {\r\n  /* display: none; */\r\n  position: relative;\r\n  top:-20px;\r\n  left: -20px;\r\n}\r\n.ts-assist-line-present{\r\n  position: relative;\r\n  top:-20px;\r\n  left: -20px;\r\n  display: none;\r\n  color:rgba(255,255,255,0.5)\r\n}\r\n\r\n.time-slider-count{\r\n  display: flex;\r\n  background-color: rgb(24, 24, 24);\r\n  box-sizing: border-box;\r\n  padding:10px 20px;\r\n}\r\n.time-slider-count .item{\r\n  display: flex;\r\n  font-size: 14px;\r\n  color:rgb(155, 164, 164);\r\n  align-items: center;\r\n}\r\n.time-slider-count .item div{\r\n  width:14px;\r\n  height: 14px;\r\n  margin-right: 14px;\r\n}\r\n.time-slider-count .background-1{\r\n  background-color: rgb(0, 0, 255);\r\n}\r\n.time-slider-count .background-2{\r\n  background-color: rgb(0, 255, 0);\r\n}\r\n.time-slider-count .background-3{\r\n  background-color: rgb(255, 0, 0);\r\n}\r\n.time-slider-count .background-4{\r\n  background-color: rgb(0, 128, 128);\r\n}\r\n.time-slider-count .background-5{\r\n  background-color: rgb(128, 0, 0);\r\n}\r\n.time-slider-count .background-6{\r\n  background-color: rgb(255, 255, 0);\r\n}\r\n.time-slider-count .background-7{\r\n  background-color: rgb(128, 128, 0);\r\n}\r\n.time-slider-count .background-8{\r\n  background-color: rgb(240, 128, 128);\r\n}\r\n.time-slider-count .background-9{\r\n  background-color: rgb(255, 0, 255);\r\n}\r\n.item-cur-month .icon-up{\r\n  color: red;\r\n  display: inline-block;\r\n  top: -9px;\r\n  position: absolute;\r\n  transform: rotate(45deg);\r\n  font-size: 12px;\r\n  left: 15px;\r\n}\r\n.playback-container .bottom-setting{\r\n  height: 52px;\r\n  background-color: rgb(242, 242, 242);\r\n  display: flex;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  padding:10px;\r\n  justify-content: space-between;\r\n}\r\n.playback-container .bottom-setting .iconfont{\r\n  cursor: pointer;\r\n}\r\n.playback-container .bottom-setting .iconfont:hover{\r\n  color:rgb(0, 183, 46)\r\n}\r\n.playback-container .iconfont{\r\n  font-size:22px;\r\n}\r\n.playback-container .icon-up{\r\n  font-size:10px !important;\r\n  pointer-events:none;\r\n}\r\n.playback-fullScreen-box{\r\n  position: absolute;\r\n    right: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    z-index: 10;\r\n    padding: 20px;\r\n}\r\n\r\n.playback-fullScreen-timeSlider-show{\r\n  position: fixed !important;\r\n  left:0 !important;\r\n  right:0 !important;\r\n  bottom:0 !important;\r\n  z-index:100001 !important;\r\n  height:auto !important;\r\n  opacity: 0.8;\r\n}\r\n.bottom-setting div{\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.bottom-setting i{\r\n  margin-right: 10px;\r\n}",""]),e.a=r},function(t,e,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},s=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function l(t,e){for(var n={},i=[],r=0;r<t.length;r++){var s=t[r],l=e.base?s[0]+e.base:s[0],h=n[l]||0,c="".concat(l," ").concat(h);n[l]=h+1;var d=a(c),m={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(o[d].references++,o[d].updater(m)):o.push({identifier:c,updater:b(m,e),references:1}),i.push(c)}return i}function h(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var o=s(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var c,d=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function m(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=d(e,r);else{var s=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function u(t,e,n){var i=n.css,r=n.media,s=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,f=0;function b(t,e){var n,i,r;if(e.singleton){var s=f++;n=p||(p=h(e)),i=m.bind(null,n,s,!1),r=m.bind(null,n,s,!0)}else n=h(e),i=u.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=a(n[i]);o[r].references--}for(var s=l(t,e),h=0;h<n.length;h++){var c=a(n[h]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=s}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(r[o]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},function(t,e,n){"use strict";n.r(e);var i=class{timeTranslateSecondsUtils(t){return Number(t.slice(4))+60*Number(t.slice(2,4))+60*Number(t.slice(0,2))*60}secondsTranslateTimeUtils(t){let e=this.timeFormatUtils(Math.floor(t/60/60));return`${e}:${this.timeFormatUtils(Math.floor((t-60*e*60)/60))}:${this.timeFormatUtils(Math.floor(t%60))}`}timeFormatUtils(t){return t>=10?t:"0"+t}getDomInstanceUtils(t){return document.querySelector(t)}domLeftToNumberUtils(t){return t&&Number(t.style.left.split("px")[0])}};var r=class extends i{constructor(t){super(),this.timeStr=t,this.init()}init(){let t=this.timeStr.split("-"),e=t[0],n=t[1];this.type=t[2],this.startTime=this.timeTranslateSecondsUtils(e),this.endTime=this.timeTranslateSecondsUtils(n)}createDom(t,e){const n=document.createElement("div");return n.classList.add("ts-timeChunk"),n.style.background=e[this.type],n.style.left=this.startTime*t/86400+"px",n.style.width=(this.endTime-this.startTime)*t/86400+"px",n}};const s={10:8640,60:1440,300:288,600:144,1800:48,3600:24},o=[3600,1800,600,300,60,10],a=1;var l=class extends i{constructor(t,e={}){if(super(),this.el=t,this.PRECISION=3600,this.DAYSECONDS=86400,this.PADDINGLEFT=20,this.precisionSetting=s,this.initDomInfo(),this.initRootDomEvent(),this.initTimeAxisDom(this.PRECISION),this.timeChunkType=e.timeChunkType,this.isMouseDown=!1,this.startX=null,this.startLeft=null,this.startMouseDownTime=null,this.wheelIndex=0,this.wheelIndexMap=o,this.speed=e.speed||a,this.timer=null,this.curPlayTimeChunk=[],this.axisLength=null,this.allAxisLength=null,this.presentSeconds=e.presentSeconds||0,this.timeNow="",this.timeLineOutClient=!1,this.isValidMove=!0,this.curDaytimeChunkArray=e.curDaytimeChunkArray||[],this.timeChunkArray=this.curDaytimeChunkArray,this.isInitialPlay=e.isInitialPlay||!1,this.onClickCallback=e.onClick,this.onMoveCallback=e.onMove,this.onMouseDownCallback=e.onMouseDown,this.initAxis(),this.initTimeChunk(),this.initTimeChunkSelector(),e.presentSeconds&&this.curDaytimeChunkArray.length)for(let t=0;t<this.curDaytimeChunkArray.length;t++){let e=this.curDaytimeChunkArray[t].split("-"),n=e[0],i=e[1];if(this.presentSeconds>=n&&this.presentSeconds<=i){this.curPlayTimeChunk=[n,i,t],this.isInitialPlay&&this.timeLinePlay();break}}}initAxis(t){0===this.timeChunkArray.length?this.timeLineDom=null:(this.initTimeAxisDom(this.wheelIndexMap[this.wheelIndex]),this.calTimeSlider(),!t&&this.setTimeLineLeft(),this.initTimeChunk())}initTimeChunk(){this.timeChunkArray.forEach((t,e)=>{let n=new r(t).createDom(this.allAxisLength,this.timeChunkType);this.containerDom.appendChild(n)})}initDomInfo(){this.rootDom=this.getDomInstanceUtils(this.el);let t=document.createElement("div");t.classList.add("ts-container"),this.rootDom.appendChild(t),this.containerDom=t;let e=document.createElement("div"),n=document.createElement("span"),i=document.createElement("div"),r=document.createElement("span");i.classList.add("ts-assist-line"),r.classList.add("ts-assist-line-present"),e.classList.add("ts-line"),n.classList.add("ts-line-present"),n.innerHTML="00:00:00",r.innerHTML="00:00:00",e.appendChild(n),i.appendChild(r),this.rootDom.appendChild(e),this.rootDom.appendChild(i),this.timeLinePresentDom=n,this.timeLineDom=e,this.assistTimeLinePresentDom=r,this.assistTimeLineDom=i}initRootDomEvent(){let t=this;this.rootDom.addEventListener("mousedown",e=>{t.isMouseDown=!0,t.startX=e.offsetX,this.startLeft=t.domLeftToNumberUtils(t.containerDom),this.startMouseDownTime=(new Date).getTime(),this.rootDom.classList.add("ts-move"),this.isValidMove=!0}),this.rootDom.addEventListener("mousemove",e=>{if(this.isMouseDown&&(new Date).getTime()-t.startMouseDownTime>300)try{this.onMoveCallback&&this.onMoveCallback()}catch(e){}if(t.isMouseDown&&3600!==this.precision){let n=e.offsetX-this.startX,i=n<0,r=n>0,s=this.allAxisLength+t.containerDom.offsetLeft<20+this.rootDom.offsetWidth;if(this.startLeft+n>20&&r)return t.containerDom.style.left="0px",void(this.isValidMove=!1);if(s&&i)return t.containerDom.style.left=-this.allAxisLength+this.rootDom.offsetWidth-35+"px",void(this.isValidMove=!1);t.containerDom.style.left=this.startLeft+n+"px"}this.showMouseMoveAssistTimeLine(e.offsetX)}),this.rootDom.addEventListener("mouseup",e=>{this.assistTimeLineDom.style.display="none",this.assistTimeLinePresentDom.style.display="none";let n=this.presentSeconds;(new Date).getTime()-t.startMouseDownTime<300?(console.log("点击",e.offsetX),this.handleClick(e.offsetX)):this.calCurPreseconds(e.offsetX-this.startX-this.PADDINGLEFT),t.isMouseDown=!1,this.rootDom.classList.remove("ts-move");try{this.onMouseDownCallback&&this.onMouseDownCallback()}catch(e){}this.verifyTimeLineSite(n)||this.timeLinePlay()}),this.rootDom.addEventListener("mouseout",e=>{t.isMouseDown=!1,this.assistTimeLineDom.style.display="none",this.assistTimeLinePresentDom.style.display="none",this.rootDom.classList.remove("ts-move")}),this.rootDom.addEventListener("mousewheel",e=>{let n=t.allAxisLength,i=this.domLeftToNumberUtils(this.timeLineDom);e.wheelDelta>0?t.wheelIndex<t.wheelIndexMap.length-1&&(++t.wheelIndex,t.precision=t.wheelIndexMap[t.wheelIndex],t.initAxis(!0),this.zoomSetTimeSlider(n,i,t.allAxisLength,!0)):t.wheelIndex>0&&(--t.wheelIndex,t.precision=t.wheelIndexMap[t.wheelIndex],t.initAxis(!0),this.zoomSetTimeSlider(n,i,t.allAxisLength,!1)),3600===t.precision&&(this.containerDom.style.left=0),t.containerDom.offsetLeft>=0&&(t.containerDom.style.left=0),this.allAxisLength+this.rootDom.offsetLeft<=document.body.clientWidth&&(this.rootDom.style.left=-this.allAxisLength+document.body.clientWidth-2*this.paddingLeft+"px"),this.setTimeLineLeft()})}handleClick(t){let e=this.presentSeconds;this.presentSeconds=(-this.domLeftToNumberUtils(this.containerDom)+t-this.PADDINGLEFT)*this.DAYSECONDS/this.allAxisLength;try{this.onClickCallback&&this.onClickCallback(Math.floor(e),Math.floor(this.presentSeconds))}catch(t){console.warn(t)}this.setTimeLineLeft()}verifyTimeLineSite(t){if(!this.timeChunkArray.length)return;let e=!1,n=this.presentSeconds>this.getTimeChunkLastEndTime();for(let t=0;t<this.timeChunkArray.length;t++){let n=this.timeChunkArray[t].split("-"),i=this.timeTranslateSecondsUtils(n[0]),r=this.timeTranslateSecondsUtils(n[1]);if(i<=this.presentSeconds&&this.presentSeconds<=r){e=!0,this.curPlayTimeChunk[0]=i,this.curPlayTimeChunk[1]=r,this.curPlayTimeChunk[2]=t;break}}if(!e){if(n)return this.presentSeconds=t,this.setTimeLineLeft(),!0;for(let t=0;t<this.timeChunkArray.length;t++){let e,n,i=this.timeChunkArray[t].split("-"),r=this.timeTranslateSecondsUtils(i[0]),s=this.timeTranslateSecondsUtils(i[1]);if(t+1>=this.timeChunkArray.length?n=0:(e=this.timeChunkArray[t+1].split("-"),n=this.timeTranslateSecondsUtils(e[1])),n<this.presentSeconds&&this.presentSeconds<r){this.presentSeconds=r,this.curPlayTimeChunk[0]=r,this.curPlayTimeChunk[1]=s,this.curPlayTimeChunk[2]=t;break}}this.setTimeLineLeft()}}calCurPreseconds(t){this.presentSeconds=60*-t*60*24/this.allAxisLength+this.presentSeconds}calTimeSlider(){let t=this.getDomInstanceUtils(".ts-axis");this.axisLength=t.offsetWidth,this.allAxisLength=t.offsetWidth*this.precisionSetting[this.wheelIndexMap[this.wheelIndex]],console.log("总长度",this.allAxisLength),console.log("单个长度",this.axisLength)}initTimeAxisDom(t){this.containerDom.innerHTML="";const e=this.precisionSetting[t];for(let t=0;t<e;t++){let n=document.createElement("div");if(n.classList.add("ts-axis"),t===e-1){n.classList.add("ts-axis-last");let t=document.createElement("span");t.classList.add("ts-axis-time-last"),t.innerText="24:00",n.appendChild(t)}if(t%2==0&&24===e){let e=document.createElement("span");e.classList.add("ts-axis-time"),e.innerText=(t>=10?t:"0"+t)+":00",n.appendChild(e)}if(48===e){let e=document.createElement("span");e.classList.add("ts-axis-time");let i=t%2,r=Math.floor(t/2);e.innerText=`${r>=10?r:"0"+r}:${i?"30":"00"}`,n.appendChild(e)}if(144===e){let e=document.createElement("span");e.classList.add("ts-axis-time");let i=10*t,r=i%60,s=(i-r)/60;e.innerText=`${s>=10?s:"0"+s}:${r>=10?r:"0"+r}`,n.appendChild(e)}if(288===e){let e=document.createElement("span");e.classList.add("ts-axis-time");let i=5*t,r=i%60,s=(i-r)/60;e.innerText=`${s>=10?s:"0"+s}:${r>=10?r:"0"+r}`,n.appendChild(e)}if(1440===e){let e=document.createElement("span");e.classList.add("ts-axis-time");let i=1*t,r=i%60,s=(i-r)/60;e.innerText=`${s>=10?s:"0"+s}:${r>=10?r:"0"+r}`,n.appendChild(e)}if(t%6==0&&8640===e){let e=document.createElement("span");e.classList.add("ts-axis-time");let i=10*t,r=i/60%60,s=100*Math.floor(i/60/60).toFixed(2)/100;console.log(i,s),e.innerText=`${s>=10?s:"0"+s}:${r>=10?r:"0"+r}`,n.appendChild(e)}n.classList.add("ts-axis-60"),this.containerDom.appendChild(n)}}setTimeLineLeft(){let t=this.presentSeconds*(this.allAxisLength/this.DAYSECONDS);t+=this.domLeftToNumberUtils(this.containerDom),this.timeLineDom.style.left=this.PADDINGLEFT+t+"px"}zoomSetTimeSlider(t,e,n){let i=this.domLeftToNumberUtils(this.containerDom),r=(e-this.PADDINGLEFT-i)/t*n-(e-this.PADDINGLEFT);this.containerDom.style.left=-r+"px"}timeLineStop(){clearInterval(this.timer),this.timer=null}timeLinePlay(){this.timer||(this.timer=setInterval(()=>{if(this.presentSeconds=this.presentSeconds+this.speed,this.isMouseDown)return;let t=this.speed*(this.allAxisLength/this.DAYSECONDS)+this.domLeftToNumberUtils(this.timeLineDom);if(this.setTimeLineLeft(),this.containerDom.offsetWidth<t?(console.log("playback isRightOver"),this.isRightOver=!0):this.isRightOver=!1,this.timeNow=this.secondsTranslateTimeUtils(this.presentSeconds),this.timeLinePresentDom.innerText=this.timeNow,this.presentSeconds+1>=this.curPlayTimeChunk[1]){console.log("临界判断");let t=this.curPlayTimeChunk[2]-1;if(t<0)return this.presentSeconds=this.presentSeconds+this.speed,this.setTimeLineLeft(),this.timeLineStop(),void(this.playbackState=0);let e=this.timeChunkArray[t].split("-"),n=this.timeTranslateSecondsUtils(e[0]),i=this.timeTranslateSecondsUtils(e[1]);this.presentSeconds=n,this.curPlayTimeChunk[0]=n,this.curPlayTimeChunk[1]=i,this.curPlayTimeChunk[2]=t,this.playbackState=0,this.setTimeLineLeft(),this.timeNow=this.secondsTranslateTimeUtils(this.presentSeconds),this.timeLinePresentDom.innerText=this.timeNow}},1e3))}getTimeChunkLastEndTime(){return this.timeTranslateSecondsUtils(this.timeChunkArray[0]&&this.timeChunkArray[0].split("-")[1])}getTimeChunkFirstStartTime(){return this.timeTranslateSecondsUtils(this.timeChunkArray[this.timeChunkArray.length-1]&&this.timeChunkArray[this.timeChunkArray.length-1].split("-")[0])}getTimeChunkFirstEndTime(){return this.timeTranslateSecondsUtils(this.timeChunkArray[this.timeChunkArray.length-1]&&this.timeChunkArray[this.timeChunkArray.length-1].split("-")[1])}showMouseMoveAssistTimeLine(t){let e=(-this.domLeftToNumberUtils(this.containerDom)+t-this.PADDINGLEFT)*this.DAYSECONDS/this.allAxisLength,n=this.secondsTranslateTimeUtils(e);console.log(e,e),e>=0&&e<=86400?(this.assistTimeLineDom.style.display="block",this.assistTimeLinePresentDom.style.display="block"):(this.assistTimeLineDom.style.display="none",this.assistTimeLinePresentDom.style.display="none"),this.assistTimeLinePresentDom.innerText=n;let i=e*(this.allAxisLength/this.DAYSECONDS);i+=this.domLeftToNumberUtils(this.containerDom),this.assistTimeLineDom.style.left=this.PADDINGLEFT+i+"px"}},h=n(1),c=n.n(h),d=n(0),m={insert:"head",singleton:!1};c()(d.a,m),d.a.locals;function u(t,e){return new l(t,e)}window.initTimeSlider=u;e.default=u}]).default}));